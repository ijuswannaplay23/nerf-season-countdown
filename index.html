<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Season Countdown</title>
  <style>
    :root { color-scheme: light dark; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .card{
      max-width: 820px; margin: 0 auto; padding: 18px 18px 16px;
      border-radius: 18px; border: 1px solid rgba(127,127,127,.25);
      box-shadow: 0 8px 30px rgba(0,0,0,.08);
    }
    .kicker { opacity:.75; font-size: 14px; letter-spacing: .08em; text-transform: uppercase; }
    h1 { margin: 6px 0 10px; font-size: 28px; }
    .time { display:flex; gap:12px; flex-wrap:wrap; margin-top: 10px; }
    .pill{
      min-width: 120px; padding: 12px 14px; border-radius: 14px;
      background: rgba(127,127,127,.12); text-align:center;
    }
    .num{ font-size: 34px; font-weight: 700; line-height: 1.1; }
    .lbl{ opacity:.75; margin-top: 4px; font-size: 13px; }
    .footer{ margin-top: 12px; opacity:.75; font-size: 13px; }
    .ended{ font-weight: 700; }
  </style>
</head>
<body>
  <div class="card">
    <div class="kicker">Office Nerf League</div>
    <h1 id="headline">Season Countdown</h1>
    <div class="time" id="time"></div>
    <div class="footer" id="footer"></div>
  </div>

<script>
  // ===== CONFIG =====
  // Season ends May 6, 2026 at 5:00 PM ET
  const END = { year: 2026, month: 5, day: 6, hour: 17, minute: 0 };
  const TZ = "America/New_York";
  // ==================

  function nowInTZ() {
    const now = new Date();
    const parts = new Intl.DateTimeFormat("en-US", {
      timeZone: TZ, year:"numeric", month:"2-digit", day:"2-digit",
      hour:"2-digit", minute:"2-digit", second:"2-digit", hour12:false
    }).formatToParts(now);
    const get = (t) => parts.find(p => p.type === t)?.value;
    return new Date(+get("year"), +get("month")-1, +get("day"), +get("hour"), +get("minute"), +get("second"));
  }

  function endInTZ() {
    return new Date(END.year, END.month-1, END.day, END.hour, END.minute, 0);
  }

  function render(diffMs, end) {
    const timeEl = document.getElementById("time");
    const footerEl = document.getElementById("footer");

    if (diffMs <= 0) {
      timeEl.innerHTML = `<div class="ended">üèÅ Season ended.</div>`;
    } else {
      const totalSec = Math.floor(diffMs / 1000);
      const days = Math.floor(totalSec / 86400);
      const hours = Math.floor((totalSec % 86400) / 3600);
      const mins = Math.floor((totalSec % 3600) / 60);
      const secs = totalSec % 60;

      timeEl.innerHTML = [
        ["Days", days],
        ["Hours", hours],
        ["Minutes", mins],
        ["Seconds", secs],
      ].map(([label, value]) => `
        <div class="pill">
          <div class="num">${String(value).padStart(2,"0")}</div>
          <div class="lbl">${label}</div>
        </div>
      `).join("");
    }

    const fmt = new Intl.DateTimeFormat("en-US", {
      timeZone: TZ, weekday:"long", year:"numeric", month:"short", day:"numeric",
      hour:"numeric", minute:"2-digit"
    });
    footerEl.textContent = `Ends: ${fmt.format(end)} (${TZ})`;
  }

  function tick() {
    const now = nowInTZ();
    const end = endInTZ();
    render(end.getTime() - now.getTime(), end);
  }

  tick();
  setInterval(tick, 1000);
</script>
</body>
</html>
